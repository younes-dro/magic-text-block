(()=>{"use strict";var e,t={511:()=>{const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,a=window.ReactJSXRuntime,r=JSON.parse('{"UU":"dro-block/magic-text-block"}'),i=window.wp.element,l=window.wp.richText,n=window.wp.components,s=({onClose:e,onChange:t,gradientDeg:o,setGradientDeg:r,gradientStartColor:i,setGradientStartColor:l,gradientEndColor:s,setGradientEndColor:c,popoverAnchor:d,LABEL_GRADIENT_DEG:g,LABEL_APPLY_BUTTON:m,LABEL_POPOVER_TITLE:x})=>(0,a.jsxs)(n.Popover,{className:"dro-magic-text-popover",animate:!0,position:"bottom right",offset:{x:10,y:10},onClose:e,anchor:d,children:[(0,a.jsx)("h4",{children:x}),(0,a.jsx)(n.ColorPicker,{color:i,onChange:e=>l(e)}),(0,a.jsx)(n.ColorPicker,{color:s,onChange:e=>c(e)}),(0,a.jsx)(n.TextControl,{label:g,value:o,onChange:e=>r(e)}),(0,a.jsx)(n.Button,{variant:"primary",onClick:()=>{t(),e()},children:m})]});(0,l.registerFormatType)("dro-magic-text/gradient",{title:"Gradient",tagName:"span",className:"dro-magic-text-gradient",attributes:{style:"style"},edit:({isActive:e,onChange:r,value:n,textDomain:c="magic-text"})=>{const[d,g]=(0,i.useState)(!1),[m,x]=(0,i.useState)(null),[p,_]=(0,i.useState)("#fff"),[u,h]=(0,i.useState)("#000"),[T,v]=(0,i.useState)("90deg"),C=(0,t.__)("Gradient direction",c)||"Gradient direction",b=(0,t.__)("Apply",c)||"Apply",k=(0,t.__)("Select Gradient colors and deg",c)||"Select Gradient colors and deg",f=(0,i.useMemo)((()=>`linear-gradient(${T}, ${p}, ${u})`),[T,p,u]),j=(0,i.useCallback)((()=>{r((0,l.toggleFormat)(n,{type:"dro-magic-text/gradient",attributes:{style:`background: ${f}; -webkit-background-clip: text; -webkit-text-fill-color: transparent;`,class:"magic-text-gradient"}}))}),[f,r,n]),L=(0,i.useCallback)((()=>{e?r((0,l.toggleFormat)(n,{type:"dro-magic-text/gradient"})):g(!0)}),[e,r,n]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:x,children:(0,a.jsx)(o.RichTextToolbarButton,{icon:"editor-code",title:"Gradient Text Color",onClick:L,isActive:e})}),!e&&d&&(0,a.jsx)(s,{onClose:()=>g(!1),onChange:j,gradientDeg:T,setGradientDeg:v,gradientStartColor:p,setGradientStartColor:_,gradientEndColor:u,setGradientEndColor:h,popoverAnchor:m,LABEL_GRADIENT_DEG:C,LABEL_APPLY_BUTTON:b,LABEL_POPOVER_TITLE:k})]})}});const c=({onClose:e,onChange:t,popoverAnchor:o,borderColor:r,setBorderColor:i,LABEL_APPLY_UNDERLINE:l,LABEL_POPOVER_TITLE:s})=>(0,a.jsxs)(n.Popover,{className:"dro-magic-text-popover",anchor:o,children:[(0,a.jsx)("h4",{children:s}),(0,a.jsx)(n.ColorPicker,{color:r,onChange:e=>i(e)}),(0,a.jsx)(n.Button,{variant:"primary",onClick:()=>{t(),e()},children:l})]});(0,l.registerFormatType)("dro-magic-text/underline-effect",{title:(0,t.__)("Underline Effect","dro-magic-text"),tagName:"span",className:"dro-magic-text-underline-clip-effect",attributes:{style:"style",class:"class"},edit:({isActive:e,onChange:r,value:n,textDomain:s="dro-magic-text"})=>{const[d,g]=(0,i.useState)(!1),[m,x]=(0,i.useState)(),[p,_]=(0,i.useState)("hsl(130 80% 50%)"),u=(0,t.__)("Apply",s)||"Apply",h=(0,t.__)("Customize Underline",s)||"Customize Underline",T=(0,i.useCallback)((()=>{r((0,l.toggleFormat)(n,{type:"dro-magic-text/underline-effect",attributes:{style:`--underline-border-color: ${p};`,class:"dro-magic-text-underline-clip-effect"}}))}),[p,r,n]),v=(0,i.useCallback)((()=>{e?r((0,l.toggleFormat)(n,{type:"dro-magic-text/underline-effect"})):g(!0)}),[e,r,n]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:x,children:(0,a.jsx)(o.RichTextToolbarButton,{icon:"editor-underline",title:(0,t.__)("Underline Effect","dro-magic-text"),onClick:v,isActive:e})}),!e&&d&&(0,a.jsx)(c,{onClose:()=>g(!1),onChange:T,popoverAnchor:m,borderColor:p,setBorderColor:_,LABEL_APPLY_UNDERLINE:u,LABEL_POPOVER_TITLE:h})]})}});const d="dro-magic-text",g=(0,t.__)("Custmze the Text background image",d)||"Text Bg ImagCustmze the Text background image",m=(0,t.__)("Text bg image",d)||"Text Bg Image",x=(0,t.__)("Apply",d)||"Apply",p=({onClose:e,onChange:r,setImageUrl:i,popoverAnchor:l,fontSize:s,setFontSize:c})=>{const m=(0,t.__)("Open Media Library",d)||"Open Media Library",p=[{name:(0,t.__)("Small"),slug:"small",size:12},{name:(0,t.__)("Big"),slug:"big",size:26}];return(0,a.jsx)(n.Popover,{anchor:l,className:"dro-magic-text-popover",children:(0,a.jsxs)("div",{style:{minWidth:"320px",padding:"16px"},children:[(0,a.jsx)("h4",{style:{marginBottom:"12px"},children:g}),(0,a.jsx)(o.MediaUploadCheck,{children:(0,a.jsx)(o.MediaUpload,{allowedTypes:["image"],onSelect:e=>i(e.url),render:({open:e})=>(0,a.jsx)(n.Button,{variant:"primary",onClick:e,style:{marginBottom:"12px",width:"100%"},children:m})})}),(0,a.jsx)(n.FontSizePicker,{__next40pxDefaultSize:!0,fallbackFontSize:16,fontSizes:p,value:s,onChange:e=>c(e)}),(0,a.jsx)(n.Button,{variant:"primary",onClick:()=>{r(),e()},style:{width:"100%"},children:x})]})})};(0,l.registerFormatType)("dro-magic-text/text-bg-image",{title:(0,t.__)("Text bg","dro-magic-text"),tagName:"span",className:"dro-magic-text-bg-image",attributes:{style:"style"},edit:({value:e,onChange:t,isActive:r})=>{const[n,s]=(0,i.useState)(!1),[c,d]=(0,i.useState)(),[g,x]=(0,i.useState)(""),[_,u]=(0,i.useState)("20"),h=(0,i.useCallback)((()=>{t((0,l.toggleFormat)(e,{type:"dro-magic-text/text-bg-image",attributes:{style:`--text-bg-image: url('${g}'); --text-size: ${_}`,class:"dro-magic-text-bg-image"}}))}),[t,e,g,_]),T=(0,i.useCallback)((()=>{r?t((0,l.toggleFormat)(e,{type:"dro-magic-text/text-bg-image"})):s(!0)}),[r,t,e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:d,children:(0,a.jsx)(o.RichTextToolbarButton,{icon:"format-image",title:m,onClick:T,isActive:r})}),!r&&n&&(0,a.jsx)(p,{onClose:()=>s(!1),onChange:h,setImageUrl:x,popoverAnchor:c,fontSize:_,setFontSize:u})]})}});const _=({onClose:e,onChange:t,gradient:o,setGradient:r,strokeWidth:i,setStrokeWidth:l,popoverAnchor:s,LABEL_POPOVER_TITLE:c,LABEL_GRADIENT_STROKE:d,LABEL_GRADIENT_WIDTH:g,LABEL_APPLY_BUTTON:m})=>(0,a.jsxs)(n.Popover,{anchor:s,className:"dro-magic-text-popover",children:[(0,a.jsx)("h4",{children:c}),(0,a.jsx)(n.GradientPicker,{value:o,onChange:r,label:d}),(0,a.jsx)(n.RangeControl,{label:g,value:i,onChange:l,min:.1,max:5,step:.1,initialPosition:1}),(0,a.jsx)(n.Button,{variant:"primary",onClick:t,children:m})]});(0,l.registerFormatType)("dro-magic-text/gradient-stroke",{title:(0,t.__)("Gradient Stroke","dro-magic-text"),tagName:"span",className:"dro-magic-text-gradient-stroke",attributes:{style:"style",class:"class"},edit:({isActive:e,value:r,onChange:n,textDomain:s="dro-magic-text"})=>{const[c,d]=(0,i.useState)(!1),[g,m]=(0,i.useState)(),[x,p]=(0,i.useState)("linear-gradient(to right, #09f1b8, #00a2ff, #ff00d2, #fed90f)"),[u,h]=(0,i.useState)(1),T=(0,t.__)("Gradient Stroke Settings",s)||"Gradient Stroke Settings",v=(0,t.__)("Stroke Gradient",s)||"Stroke Gradient",C=(0,t.__)("Stroke Width",s)||"Stroke Width",b=(0,t.__)("Apply",s)||"Apply",k=(0,i.useCallback)((()=>{n((0,l.toggleFormat)(r,{type:"dro-magic-text/gradient-stroke",attributes:{style:`\n            --gradient-stroke: ${x};\n            --stroke-width: ${u}px;\n          `,class:"magic-gradient-stroke"}}))}),[x,u,n,r]),f=(0,i.useCallback)((()=>{e?n((0,l.toggleFormat)(r,{type:"dro-magic-text/gradient-stroke"})):d(!0)}),[e,r,n]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:m,children:(0,a.jsx)(o.RichTextToolbarButton,{icon:"admin-appearance",title:(0,t.__)("Gradient Stroke",s)||"Gradient Stroke",onClick:f,isActive:e})}),c&&(0,a.jsx)(_,{onClose:()=>d(!1),onChange:()=>{k(),d(!1)},gradient:x,setGradient:p,strokeWidth:u,setStrokeWidth:h,popoverAnchor:g,LABEL_POPOVER_TITLE:T,LABEL_GRADIENT_STROKE:v,LABEL_GRADIENT_WIDTH:C,LABEL_APPLY_BUTTON:b})]})}});const u=[{name:"Default",value:"default"},{name:"Dark",value:"dark"},{name:"Light",value:"light"},{name:"Milkshake",value:"milkshake"},{name:"Popsicle",value:"popsicle"}],h=window.wp.data,T=window.wp.editor,v=window.wp.plugins,C="dro-magic-text",b=(0,t.__)("Display Mode",C);(0,v.registerPlugin)("dro-magic-text-post-theme-selector",{render:()=>{const{savedTheme:e}=(0,h.useSelect)((e=>({savedTheme:e("core/editor").getEditedPostAttribute("meta")?.dro_magic_text_theme_meta}))),[o,r]=(0,i.useState)((()=>void 0!==e&&"default"!==e)),{editPost:l}=(0,h.useDispatch)("core/editor");return(0,i.useEffect)((()=>{const t=()=>{const t=document.querySelector(".block-editor-iframe__scale-container"),a=t?.querySelector("iframe"),r=a?.contentDocument?.body,i=[r,document.querySelector(".editor-styles-wrapper")].filter(Boolean);i.forEach((e=>{console.debug("1",e),e.classList.remove(...u.map((e=>`magic-theme-${e.value}`))),e.classList.remove(...u.map((e=>`theme-${e.value}`)))})),o&&e&&"default"!==e&&i.forEach((t=>{console.debug("2",t),t.classList.add(`magic-theme-${e}`),t.classList.add(`theme-${e}`)}))};setTimeout((()=>t()),100);const a=new MutationObserver((e=>{e.forEach((()=>{const e=document.querySelector(".block-editor-iframe__scale-container");if(e){const o=e.querySelector("iframe");o&&o.contentDocument&&t()}}))})),r=document.querySelector(".block-editor-iframe__scale-container")?.parentNode;return r&&a.observe(r,{childList:!0,subtree:!0}),()=>{a.disconnect()}}),[e,o]),(0,a.jsx)(T.PluginDocumentSettingPanel,{name:"magic-text-display-mode",title:b,className:"dro-magic-text-post-theme-selector-panel",initialOpen:!0,children:(0,a.jsxs)("div",{className:"dro-magic-text-post-theme-selector-panel__content",children:[(0,a.jsx)(n.ToggleControl,{label:(0,t.__)("Enable Theme Selector",C),checked:o,onChange:t=>{r(t),l({meta:{dro_magic_text_theme_meta:t?e||u[0].value:"default"}})}}),(o||e)&&(0,a.jsxs)("div",{className:"theme-selector-wrapper",children:[(0,a.jsx)("label",{htmlFor:"magic-text-display-mode",children:(0,t.__)("Display Mode",C)}),(0,a.jsx)("select",{id:"magic-text-display-mode",value:e||"default",onChange:e=>{l({meta:{dro_magic_text_theme_meta:e.target.value}})},children:u.map((e=>(0,a.jsx)("option",{value:e.value,children:(0,t.__)(e.name,C)},e.value)))})]})]})})},icon:"star-half"});const k=window.wp.primitives,f=(0,a.jsx)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(k.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12.9c0 .6.5 1.1 1.1 1.1.3 0 .5-.1.8-.3L8.5 17H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H7.9l-2.4 2.4V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v9z"})}),j=[{label:(0,t.__)("Top","dro-magic-text"),value:"top"},{label:(0,t.__)("Bottom","dro-magic-text"),value:"bottom"},{label:(0,t.__)("Left","dro-magic-text"),value:"left"},{label:(0,t.__)("Right","dro-magic-text"),value:"right"},{label:(0,t.__)("Top Left ↖","dro-magic-text"),value:"top-left"},{label:(0,t.__)("Top Right ↗","dro-magic-text"),value:"top-right"},{label:(0,t.__)("Bottom Left ↙","dro-magic-text"),value:"bottom-left"},{label:(0,t.__)("Bottom Right ↘","dro-magic-text"),value:"bottom-right"}],L=({LABEL_POPOVER_TITLE:e,LABEL_TOOLTIP_TEXT:o,LABEL_APPLY_BUTTON:r,LABEL_TOOLTIP_POSITION:i,onChange:l,setTooltipText:s,tooltipText:c,popoverAnchor:d,tooltipBgColor:g,setTolltipBgColor:m,tooltipTextColor:x,setTooltipTextColor:p,tooltipPosition:_,setTooltipPosition:u,useGradient:h,setUseGradient:T,gradientStartColor:v,setGradientStartColor:C,gradientEndColor:b,setGradientEndColor:k,gradientDirection:f,setGradientDirection:L,onClose:y})=>{const S=[{label:(0,t.__)("To Right","dro-magic-text"),value:"to right"},{label:(0,t.__)("To Left","dro-magic-text"),value:"to left"},{label:(0,t.__)("To Bottom","dro-magic-text"),value:"to bottom"},{label:(0,t.__)("To Top","dro-magic-text"),value:"to top"},{label:(0,t.__)("Diagonal ↘","dro-magic-text"),value:"to bottom right"},{label:(0,t.__)("Diagonal ↙","dro-magic-text"),value:"to bottom left"}];return(0,a.jsx)(n.Popover,{anchor:d,className:"dro-magic-text-popover",onClose:y,children:(0,a.jsxs)("div",{style:{padding:"16px",width:"320px"},children:[(0,a.jsx)("h4",{style:{marginTop:0,marginBottom:"16px"},children:e}),(0,a.jsx)(n.TextControl,{label:o,value:c,placeholder:(0,t.__)("Enter tooltip text","dro-magic-text"),onChange:e=>s(e),style:{marginBottom:"16px"}}),(0,a.jsx)(n.SelectControl,{label:i,help:(0,t.__)("Select the position of the tooltip","dro-magic-text"),value:_,options:j,onChange:e=>u(e),style:{marginBottom:"16px"}}),(0,a.jsx)(n.ToggleControl,{label:(0,t.__)("Use Gradient Background","dro-magic-text"),help:h?(0,t.__)("Gradient background enabled","dro-magic-text"):(0,t.__)("Solid color background","dro-magic-text"),checked:h,onChange:e=>T(e),style:{marginBottom:"16px"}}),(0,a.jsx)(n.TabPanel,{className:"tooltip-color-tabs",activeClass:"active-tab",tabs:[{name:"background",title:(0,t.__)("Background","dro-magic-text"),className:"background-tab"},{name:"text",title:(0,t.__)("Text Color","dro-magic-text"),className:"text-tab"}],children:e=>(0,a.jsxs)("div",{style:{marginTop:"12px"},children:["background"===e.name&&(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:h?(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:(0,t.__)("Gradient Background","dro-magic-text")}),(0,a.jsx)(n.SelectControl,{label:(0,t.__)("Gradient Direction","dro-magic-text"),value:f,options:S,onChange:e=>L(e),style:{marginBottom:"12px"}}),(0,a.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,a.jsx)("strong",{children:(0,t.__)("Start Color","dro-magic-text")}),(0,a.jsx)(n.ColorPicker,{color:v,onChange:e=>C(e)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:(0,t.__)("End Color","dro-magic-text")}),(0,a.jsx)(n.ColorPicker,{color:b,onChange:e=>k(e)})]}),(0,a.jsxs)("div",{style:{marginTop:"12px"},children:[(0,a.jsx)("strong",{children:(0,t.__)("Preview","dro-magic-text")}),(0,a.jsx)("div",{style:{height:"30px",background:`linear-gradient(${f}, ${v}, ${b})`,border:"1px solid #ccc",borderRadius:"4px",marginTop:"4px"}})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:(0,t.__)("Background Color","dro-magic-text")}),(0,a.jsx)(n.ColorPicker,{color:g,onChange:e=>m(e)})]})}),"text"===e.name&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:(0,t.__)("Text Color","dro-magic-text")}),(0,a.jsx)(n.ColorPicker,{color:x,onChange:e=>p(e)})]})]})}),(0,a.jsxs)(n.Flex,{justify:"space-between",style:{marginTop:"20px"},children:[(0,a.jsx)(n.FlexBlock,{children:(0,a.jsx)(n.Button,{variant:"secondary",onClick:y,children:(0,t.__)("Cancel","dro-magic-text")})}),(0,a.jsx)(n.FlexBlock,{children:(0,a.jsx)(n.Button,{variant:"primary",onClick:l,children:r})})]})]})})};(0,l.registerFormatType)("dro-magic-text/tooltip",{title:(0,t.__)("Tooltip","dro-magic-text"),tagName:"span",className:"dro-magic-text-tooltip",attributes:{"data-tooltip":"data-tooltip",class:"class",style:"style"},edit:({isActive:e,value:r,onChange:n,textDomain:s="dro-magic-text"})=>{const[c,d]=(0,i.useState)(!1),[g,m]=(0,i.useState)("Default Tooltip Text"),[x,p]=(0,i.useState)(),[_,u]=(0,i.useState)("#000000"),[h,T]=(0,i.useState)("#ffffff"),[v,C]=(0,i.useState)("top"),[b,k]=(0,i.useState)(!1),[j,y]=(0,i.useState)("#4f46e5"),[S,B]=(0,i.useState)("#7c3aed"),[E,A]=(0,i.useState)("to right"),P=(0,t.__)("Tooltip Settings",s)||"Tooltip Settings",w=(0,t.__)("Tooltip Text",s)||"Tooltip Text",O=(0,t.__)("Tooltip Position",s)||"Tooltip Position",G=(0,t.__)("Apply",s)||"Apply",N=(0,i.useCallback)((()=>{let e;e=b?`linear-gradient(${E}, ${j}, ${S})`:_,n((0,l.toggleFormat)(r,{type:"dro-magic-text/tooltip",attributes:{"data-tooltip":g,class:`tooltip-${v}`,style:`--tooltip-bg: ${e}; --tooltip-text-color: ${h}; --tooltip-use-gradient: ${b};`}}))}),[r,n,g,_,h,v,b,j,S,E]),D=(0,i.useCallback)((()=>{d(!0)}),[e,r,n]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:p,children:(0,a.jsx)(o.RichTextToolbarButton,{icon:f,title:(0,t.__)("Add Tooltip","dro-magic-text"),onClick:D,isActive:e})}),c&&(0,a.jsx)(L,{onClose:()=>d(!1),onChange:()=>{N(),d(!1)},setTooltipText:m,tooltipText:g,popoverAnchor:x,tooltipBgColor:_,setTolltipBgColor:u,tooltipTextColor:h,setTooltipTextColor:T,tooltipPosition:v,setTooltipPosition:C,useGradient:b,setUseGradient:k,gradientStartColor:j,setGradientStartColor:y,gradientEndColor:S,setGradientEndColor:B,gradientDirection:E,setGradientDirection:A,LABEL_POPOVER_TITLE:P,LABEL_TOOLTIP_TEXT:w,LABEL_APPLY_BUTTON:G,LABEL_TOOLTIP_POSITION:O})]})}}),(0,e.registerBlockType)(r.UU,{edit:function(){return(0,a.jsx)("p",{...(0,o.useBlockProps)(),children:(0,t.__)("Magic Text Block – hello from the editor!","dro-magic-text")})},save:function(){return(0,a.jsx)("p",{...o.useBlockProps.save(),children:"Magic Text Block – hello from the saved content!"})}})}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,a),i.exports}a.m=t,e=[],a.O=(t,o,r,i)=>{if(!o){var l=1/0;for(d=0;d<e.length;d++){for(var[o,r,i]=e[d],n=!0,s=0;s<o.length;s++)(!1&i||l>=i)&&Object.keys(a.O).every((e=>a.O[e](o[s])))?o.splice(s--,1):(n=!1,i<l&&(l=i));if(n){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,r,i]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={973:0,881:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var r,i,[l,n,s]=o,c=0;if(l.some((t=>0!==e[t]))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(s)var d=s(a)}for(t&&t(o);c<l.length;c++)i=l[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},o=globalThis.webpackChunkmagic_text_block=globalThis.webpackChunkmagic_text_block||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=a.O(void 0,[881],(()=>a(511)));r=a.O(r)})();