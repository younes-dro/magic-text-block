(()=>{"use strict";var e,t={511:()=>{const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,r=window.ReactJSXRuntime,a=JSON.parse('{"UU":"dro-block/magic-text-block"}'),i=window.wp.element,l=window.wp.richText,n=window.wp.components,s=({onClose:e,onChange:t,gradientDeg:o,setGradientDeg:a,gradientStartColor:i,setGradientStartColor:l,gradientEndColor:s,setGradientEndColor:c,popoverAnchor:d,LABEL_GRADIENT_DEG:g,LABEL_APPLY_BUTTON:m,LABEL_POPOVER_TITLE:p})=>(0,r.jsxs)(n.Popover,{animate:!0,position:"bottom right",offset:{x:10,y:10},onClose:e,anchor:d,children:[(0,r.jsx)("h4",{children:p}),(0,r.jsx)(n.ColorPicker,{color:i,onChange:e=>l(e)}),(0,r.jsx)(n.ColorPicker,{color:s,onChange:e=>c(e)}),(0,r.jsx)(n.TextControl,{label:g,value:o,onChange:e=>a(e)}),(0,r.jsx)(n.Button,{variant:"primary",onClick:()=>{t(),e()},children:m})]});(0,l.registerFormatType)("dro-magic-text/gradient",{title:"Gradient",tagName:"span",className:"dro-magic-text-gradient",attributes:{style:"style"},edit:({isActive:e,onChange:a,value:n,textDomain:c="magic-text"})=>{const[d,g]=(0,i.useState)(!1),[m,p]=(0,i.useState)(null),[x,u]=(0,i.useState)("#fff"),[h,_]=(0,i.useState)("#000"),[T,v]=(0,i.useState)("90deg"),C=(0,t.__)("Gradient direction",c)||"Gradient direction",b=(0,t.__)("Apply",c)||"Apply",f=(0,t.__)("Select Gradient colors and deg",c)||"Select Gradient colors and deg",k=(0,i.useMemo)((()=>`linear-gradient(${T}, ${x}, ${h})`),[T,x,h]),L=(0,i.useCallback)((()=>{a((0,l.toggleFormat)(n,{type:"dro-magic-text/gradient",attributes:{style:`background: ${k}; -webkit-background-clip: text; -webkit-text-fill-color: transparent;`,class:"magic-text-gradient"}}))}),[k,a,n]),E=(0,i.useCallback)((()=>{e?a((0,l.toggleFormat)(n,{type:"dro-magic-text/gradient"})):g(!0)}),[e,a,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:p,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:"editor-code",title:"Gradient Text Color",onClick:E,isActive:e})}),!e&&d&&(0,r.jsx)(s,{onClose:()=>g(!1),onChange:L,gradientDeg:T,setGradientDeg:v,gradientStartColor:x,setGradientStartColor:u,gradientEndColor:h,setGradientEndColor:_,popoverAnchor:m,LABEL_GRADIENT_DEG:C,LABEL_APPLY_BUTTON:b,LABEL_POPOVER_TITLE:f})]})}});const c=({onClose:e,onChange:t,popoverAnchor:o,borderColor:a,setBorderColor:i,LABEL_APPLY_UNDERLINE:l,LABEL_POPOVER_TITLE:s})=>(0,r.jsxs)(n.Popover,{anchor:o,children:[(0,r.jsx)("h4",{children:s}),(0,r.jsx)(n.ColorPicker,{color:a,onChange:e=>i(e)}),(0,r.jsx)(n.Button,{variant:"primary",onClick:()=>{t(),e()},children:l})]});(0,l.registerFormatType)("dro-magic-text/underline-effect",{title:(0,t.__)("Underline Effect","dro-magic-text"),tagName:"span",className:"dro-magic-text-underline-clip-effect",attributes:{style:"style",class:"class"},edit:({isActive:e,onChange:a,value:n,textDomain:s="dro-magic-text"})=>{const[d,g]=(0,i.useState)(!1),[m,p]=(0,i.useState)(),[x,u]=(0,i.useState)("hsl(130 80% 50%)"),h=(0,t.__)("Apply",s)||"Apply",_=(0,t.__)("Customize Underline",s)||"Customize Underline",T=(0,i.useCallback)((()=>{a((0,l.toggleFormat)(n,{type:"dro-magic-text/underline-effect",attributes:{style:`--underline-border-color: ${x};`,class:"dro-magic-text-underline-clip-effect"}}))}),[x,a,n]),v=(0,i.useCallback)((()=>{e?a((0,l.toggleFormat)(n,{type:"dro-magic-text/underline-effect"})):g(!0)}),[e,a,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:p,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:"editor-underline",title:(0,t.__)("Underline Effect","dro-magic-text"),onClick:v,isActive:e})}),!e&&d&&(0,r.jsx)(c,{onClose:()=>g(!1),onChange:T,popoverAnchor:m,borderColor:x,setBorderColor:u,LABEL_APPLY_UNDERLINE:h,LABEL_POPOVER_TITLE:_})]})}});const d="dro-magic-text",g=(0,t.__)("Custmze the Text background image",d)||"Text Bg ImagCustmze the Text background image",m=(0,t.__)("Text bg image",d)||"Text Bg Image",p=(0,t.__)("Apply",d)||"Apply",x=({onClose:e,onChange:a,setImageUrl:i,popoverAnchor:l,fontSize:s,setFontSize:c})=>{const m=(0,t.__)("Open Media Library",d)||"Open Media Library",x=[{name:(0,t.__)("Small"),slug:"small",size:12},{name:(0,t.__)("Big"),slug:"big",size:26}];return(0,r.jsx)(n.Popover,{anchor:l,className:"dro-magic-text-bg-popover",children:(0,r.jsxs)("div",{style:{minWidth:"320px",padding:"16px"},children:[(0,r.jsx)("h4",{style:{marginBottom:"12px"},children:g}),(0,r.jsx)(o.MediaUploadCheck,{children:(0,r.jsx)(o.MediaUpload,{allowedTypes:["image"],onSelect:e=>i(e.url),render:({open:e})=>(0,r.jsx)(n.Button,{variant:"primary",onClick:e,style:{marginBottom:"12px",width:"100%"},children:m})})}),(0,r.jsx)(n.FontSizePicker,{__next40pxDefaultSize:!0,fallbackFontSize:16,fontSizes:x,value:s,onChange:e=>c(e)}),(0,r.jsx)(n.Button,{variant:"primary",onClick:()=>{a(),e()},style:{width:"100%"},children:p})]})})};(0,l.registerFormatType)("dro-magic-text/text-bg-image",{title:(0,t.__)("Text bg","dro-magic-text"),tagName:"span",className:"dro-magic-text-bg-image",attributes:{style:"style"},edit:({value:e,onChange:t,isActive:a})=>{const[n,s]=(0,i.useState)(!1),[c,d]=(0,i.useState)(),[g,p]=(0,i.useState)(""),[u,h]=(0,i.useState)("20"),_=(0,i.useCallback)((()=>{t((0,l.toggleFormat)(e,{type:"dro-magic-text/text-bg-image",attributes:{style:`--text-bg-image: url('${g}'); --text-size: ${u}`,class:"dro-magic-text-bg-image"}}))}),[t,e,g,u]),T=(0,i.useCallback)((()=>{a?t((0,l.toggleFormat)(e,{type:"dro-magic-text/text-bg-image"})):s(!0)}),[a,t,e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:d,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:"format-image",title:m,onClick:T,isActive:a})}),!a&&n&&(0,r.jsx)(x,{onClose:()=>s(!1),onChange:_,setImageUrl:p,popoverAnchor:c,fontSize:u,setFontSize:h})]})}});const u=({onClose:e,onChange:t,gradient:o,setGradient:a,strokeWidth:i,setStrokeWidth:l,popoverAnchor:s,LABEL_POPOVER_TITLE:c,LABEL_GRADIENT_STROKE:d,LABEL_GRADIENT_WIDTH:g,LABEL_APPLY_BUTTON:m})=>(0,r.jsxs)(n.Popover,{anchor:s,className:"gradient-stroke-popover",children:[(0,r.jsx)("h4",{children:c}),(0,r.jsx)(n.GradientPicker,{value:o,onChange:a,label:d}),(0,r.jsx)(n.RangeControl,{label:g,value:i,onChange:l,min:.1,max:5,step:.1,initialPosition:1}),(0,r.jsx)(n.Button,{variant:"primary",onClick:t,children:m})]});(0,l.registerFormatType)("dro-magic-text/gradient-stroke",{title:(0,t.__)("Gradient Stroke","dro-magic-text"),tagName:"span",className:"dro-magic-text-gradient-stroke",attributes:{style:"style",class:"class"},edit:({isActive:e,value:a,onChange:n,textDomain:s="dro-magic-text"})=>{const[c,d]=(0,i.useState)(!1),[g,m]=(0,i.useState)(),[p,x]=(0,i.useState)("linear-gradient(to right, #09f1b8, #00a2ff, #ff00d2, #fed90f)"),[h,_]=(0,i.useState)(1),T=(0,t.__)("Gradient Stroke Settings",s)||"Gradient Stroke Settings",v=(0,t.__)("Stroke Gradient",s)||"Stroke Gradient",C=(0,t.__)("Stroke Width",s)||"Stroke Width",b=(0,t.__)("Apply",s)||"Apply",f=(0,i.useCallback)((()=>{n((0,l.toggleFormat)(a,{type:"dro-magic-text/gradient-stroke",attributes:{style:`\n            --gradient-stroke: ${p};\n            --stroke-width: ${h}px;\n          `,class:"magic-gradient-stroke"}}))}),[p,h,n,a]),k=(0,i.useCallback)((()=>{e?n((0,l.toggleFormat)(a,{type:"dro-magic-text/gradient-stroke"})):d(!0)}),[e,a,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:m,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:"admin-appearance",title:(0,t.__)("Gradient Stroke",s)||"Gradient Stroke",onClick:k,isActive:e})}),c&&(0,r.jsx)(u,{onClose:()=>d(!1),onChange:()=>{f(),d(!1)},gradient:p,setGradient:x,strokeWidth:h,setStrokeWidth:_,popoverAnchor:g,LABEL_POPOVER_TITLE:T,LABEL_GRADIENT_STROKE:v,LABEL_GRADIENT_WIDTH:C,LABEL_APPLY_BUTTON:b})]})}});const h=[{name:"Default",value:"default"},{name:"Dark",value:"dark"},{name:"Light",value:"light"},{name:"Milkshake",value:"milkshake"},{name:"Popsicle",value:"popsicle"}],_=window.wp.data,T=window.wp.editor,v=window.wp.plugins,C="dro-magic-text",b=(0,t.__)("Display Mode",C);(0,v.registerPlugin)("dro-magic-text-post-theme-selector",{render:()=>{const{savedTheme:e}=(0,_.useSelect)((e=>({savedTheme:e("core/editor").getEditedPostAttribute("meta")?.dro_magic_text_theme_meta}))),[o,a]=(0,i.useState)((()=>void 0!==e&&"default"!==e)),{editPost:l}=(0,_.useDispatch)("core/editor");return(0,i.useEffect)((()=>{const t=()=>{const t=document.querySelector(".block-editor-iframe__scale-container"),r=t?.querySelector("iframe"),a=r?.contentDocument?.body,i=[a,document.querySelector(".editor-styles-wrapper")].filter(Boolean);i.forEach((e=>{console.debug("1",e),e.classList.remove(...h.map((e=>`magic-theme-${e.value}`))),e.classList.remove(...h.map((e=>`theme-${e.value}`)))})),o&&e&&"default"!==e&&i.forEach((t=>{console.debug("2",t),t.classList.add(`magic-theme-${e}`),t.classList.add(`theme-${e}`)}))};setTimeout((()=>t()),100);const r=new MutationObserver((e=>{e.forEach((()=>{const e=document.querySelector(".block-editor-iframe__scale-container");if(e){const o=e.querySelector("iframe");o&&o.contentDocument&&t()}}))})),a=document.querySelector(".block-editor-iframe__scale-container")?.parentNode;return a&&r.observe(a,{childList:!0,subtree:!0}),()=>{r.disconnect()}}),[e,o]),(0,r.jsx)(T.PluginDocumentSettingPanel,{name:"magic-text-display-mode",title:b,className:"dro-magic-text-post-theme-selector-panel",initialOpen:!0,children:(0,r.jsxs)("div",{className:"dro-magic-text-post-theme-selector-panel__content",children:[(0,r.jsx)(n.ToggleControl,{label:(0,t.__)("Enable Theme Selector",C),checked:o,onChange:t=>{a(t),l({meta:{dro_magic_text_theme_meta:t?e||h[0].value:"default"}})}}),(o||e)&&(0,r.jsxs)("div",{className:"theme-selector-wrapper",children:[(0,r.jsx)("label",{htmlFor:"magic-text-display-mode",children:(0,t.__)("Display Mode",C)}),(0,r.jsx)("select",{id:"magic-text-display-mode",value:e||"default",onChange:e=>{l({meta:{dro_magic_text_theme_meta:e.target.value}})},children:h.map((e=>(0,r.jsx)("option",{value:e.value,children:(0,t.__)(e.name,C)},e.value)))})]})]})})},icon:"star-half"});const f=window.wp.primitives,k=(0,r.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)(f.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12.9c0 .6.5 1.1 1.1 1.1.3 0 .5-.1.8-.3L8.5 17H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H7.9l-2.4 2.4V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v9z"})}),L=[{label:"Top",value:"top"},{label:"Right",value:"right"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"}],E=({LABEL_POPOVER_TITLE:e,LABEL_TOOLTIP_TEXT:o,LABEL_APPLY_BUTTON:a,LABEL_TOOLTIP_POSITION:i,onChange:l,setTooltipText:s,popoverAnchor:c,tooltipBgColor:d,setTolltipBgColor:g,tooltipTextColor:m,setTooltipTextColor:p,tooltipPosition:x,setTooltipPosition:u})=>(0,r.jsxs)(n.Popover,{anchor:c,className:"tooltip-effect-popover",children:[(0,r.jsx)("h4",{children:e}),(0,r.jsx)(n.TextControl,{label:o,placeholder:(0,t.__)("Enter tooltip text","dro-magic-text"),onChange:e=>{s(e)}}),(0,r.jsx)(n.RadioControl,{label:i,help:(0,t.__)("Select the position of the tooltip","dro-magic-text"),selected:x,options:L,onChange:e=>{u(e)}}),(0,r.jsx)("strong",{children:(0,t.__)("Tooltip Background color","dro-magic-text")}),(0,r.jsx)(n.ColorPicker,{color:d,onChange:e=>g(e)}),(0,r.jsx)("strong",{children:(0,t.__)("Tooltip Text color","dro-magic-text")}),(0,r.jsx)(n.ColorPicker,{color:m,onChange:e=>p(e)}),(0,r.jsx)(n.Button,{variant:"primary",onClick:l,children:a})]});(0,l.registerFormatType)("dro-magic-text/tooltip",{title:(0,t.__)("Tooltip","dro-magic-text"),tagName:"span",className:"dro-magic-text-tooltip",attributes:{"data-tooltip":"data-tooltip",class:"class",style:"style"},edit:({isActive:e,value:a,onChange:n,textDomain:s="dro-magic-text"})=>{const[c,d]=(0,i.useState)(!1),[g,m]=(0,i.useState)("Default Tooltip Text"),[p,x]=(0,i.useState)(),[u,h]=(0,i.useState)("#000000"),[_,T]=(0,i.useState)("#ffffff"),[v,C]=(0,i.useState)("top"),b=(0,t.__)("Tooltip Settings",s)||"Tooltip Settings",f=(0,t.__)("Tooltip Text",s)||"Tooltip Text",L=(0,t.__)("Tooltip Position",s)||"Tooltip Position",y=(0,t.__)("Apply",s)||"Apply",A=(0,i.useCallback)((()=>{n((0,l.toggleFormat)(a,{type:"dro-magic-text/tooltip",attributes:{"data-tooltip":g,class:`tooltip-${v}`,style:`--tooltip-bg-color: ${u}; --tooltip-text-color: ${_};`}}))}),[a,n,g,u,_,v]),S=(0,i.useCallback)((()=>{e?n((0,l.toggleFormat)(a,{type:"dro-magic-text/tooltip"})):d(!0)}),[e,a,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:x,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:k,title:(0,t.__)("Add Tooltip","dro-magic-text"),onClick:S,isActive:e})}),c&&(0,r.jsx)(E,{onClose:()=>d(!1),onChange:()=>{A(),d(!1)},setTooltipText:m,popoverAnchor:p,tooltipBgColor:u,setTolltipBgColor:h,tooltipTextColor:_,setTooltipTextColor:T,tooltipPosition:v,setTooltipPosition:C,LABEL_POPOVER_TITLE:b,LABEL_TOOLTIP_TEXT:f,LABEL_APPLY_BUTTON:y,LABEL_TOOLTIP_POSITION:L})]})}}),(0,e.registerBlockType)(a.UU,{edit:function(){return(0,r.jsx)("p",{...(0,o.useBlockProps)(),children:(0,t.__)("Magic Text Block – hello from the editor!","dro-magic-text")})},save:function(){return(0,r.jsx)("p",{...o.useBlockProps.save(),children:"Magic Text Block – hello from the saved content!"})}})}},o={};function r(e){var a=o[e];if(void 0!==a)return a.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,o,a,i)=>{if(!o){var l=1/0;for(d=0;d<e.length;d++){for(var[o,a,i]=e[d],n=!0,s=0;s<o.length;s++)(!1&i||l>=i)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(n=!1,i<l&&(l=i));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,a,i]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={973:0,881:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[l,n,s]=o,c=0;if(l.some((t=>0!==e[t]))){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(s)var d=s(r)}for(t&&t(o);c<l.length;c++)i=l[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},o=globalThis.webpackChunkmagic_text_block=globalThis.webpackChunkmagic_text_block||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=r.O(void 0,[881],(()=>r(511)));a=r.O(a)})();