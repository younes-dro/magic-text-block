(()=>{"use strict";var e,t={511:()=>{const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,r=window.ReactJSXRuntime,a=JSON.parse('{"UU":"dro-block/magic-text-block"}'),i=window.wp.element,n=window.wp.richText,l=window.wp.components,s=({onClose:e,onChange:t,gradientDeg:o,setGradientDeg:a,gradientStartColor:i,setGradientStartColor:n,gradientEndColor:s,setGradientEndColor:c,popoverAnchor:d,LABEL_GRADIENT_DEG:g,LABEL_APPLY_BUTTON:m,LABEL_POPOVER_TITLE:x})=>(0,r.jsxs)(l.Popover,{animate:!0,position:"bottom right",offset:{x:10,y:10},onClose:e,anchor:d,children:[(0,r.jsx)("h4",{children:x}),(0,r.jsx)(l.ColorPicker,{color:i,onChange:e=>n(e)}),(0,r.jsx)(l.ColorPicker,{color:s,onChange:e=>c(e)}),(0,r.jsx)(l.TextControl,{label:g,value:o,onChange:e=>a(e)}),(0,r.jsx)(l.Button,{variant:"primary",onClick:()=>{t(),e()},children:m})]});(0,n.registerFormatType)("dro-magic-text/gradient",{title:"Gradient",tagName:"span",className:"dro-magic-text-gradient",attributes:{style:"style"},edit:({isActive:e,onChange:a,value:l,textDomain:c="magic-text"})=>{const[d,g]=(0,i.useState)(!1),[m,x]=(0,i.useState)(null),[p,h]=(0,i.useState)("#fff"),[u,_]=(0,i.useState)("#000"),[T,C]=(0,i.useState)("90deg"),v=(0,t.__)("Gradient direction",c)||"Gradient direction",b=(0,t.__)("Apply",c)||"Apply",k=(0,t.__)("Select Gradient colors and deg",c)||"Select Gradient colors and deg",f=(0,i.useMemo)((()=>`linear-gradient(${T}, ${p}, ${u})`),[T,p,u]),j=(0,i.useCallback)((()=>{a((0,n.toggleFormat)(l,{type:"dro-magic-text/gradient",attributes:{style:`background: ${f}; -webkit-background-clip: text; -webkit-text-fill-color: transparent;`,class:"magic-text-gradient"}}))}),[f,a,l]),L=(0,i.useCallback)((()=>{e?a((0,n.toggleFormat)(l,{type:"dro-magic-text/gradient"})):g(!0)}),[e,a,l]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:x,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:"editor-code",title:"Gradient Text Color",onClick:L,isActive:e})}),!e&&d&&(0,r.jsx)(s,{onClose:()=>g(!1),onChange:j,gradientDeg:T,setGradientDeg:C,gradientStartColor:p,setGradientStartColor:h,gradientEndColor:u,setGradientEndColor:_,popoverAnchor:m,LABEL_GRADIENT_DEG:v,LABEL_APPLY_BUTTON:b,LABEL_POPOVER_TITLE:k})]})}});const c=({onClose:e,onChange:t,popoverAnchor:o,borderColor:a,setBorderColor:i,LABEL_APPLY_UNDERLINE:n,LABEL_POPOVER_TITLE:s})=>(0,r.jsxs)(l.Popover,{anchor:o,children:[(0,r.jsx)("h4",{children:s}),(0,r.jsx)(l.ColorPicker,{color:a,onChange:e=>i(e)}),(0,r.jsx)(l.Button,{variant:"primary",onClick:()=>{t(),e()},children:n})]});(0,n.registerFormatType)("dro-magic-text/underline-effect",{title:(0,t.__)("Underline Effect","dro-magic-text"),tagName:"span",className:"dro-magic-text-underline-clip-effect",attributes:{style:"style",class:"class"},edit:({isActive:e,onChange:a,value:l,textDomain:s="dro-magic-text"})=>{const[d,g]=(0,i.useState)(!1),[m,x]=(0,i.useState)(),[p,h]=(0,i.useState)("hsl(130 80% 50%)"),u=(0,t.__)("Apply",s)||"Apply",_=(0,t.__)("Customize Underline",s)||"Customize Underline",T=(0,i.useCallback)((()=>{a((0,n.toggleFormat)(l,{type:"dro-magic-text/underline-effect",attributes:{style:`--underline-border-color: ${p};`,class:"dro-magic-text-underline-clip-effect"}}))}),[p,a,l]),C=(0,i.useCallback)((()=>{e?a((0,n.toggleFormat)(l,{type:"dro-magic-text/underline-effect"})):g(!0)}),[e,a,l]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:x,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:"editor-underline",title:(0,t.__)("Underline Effect","dro-magic-text"),onClick:C,isActive:e})}),!e&&d&&(0,r.jsx)(c,{onClose:()=>g(!1),onChange:T,popoverAnchor:m,borderColor:p,setBorderColor:h,LABEL_APPLY_UNDERLINE:u,LABEL_POPOVER_TITLE:_})]})}});const d="dro-magic-text",g=(0,t.__)("Custmze the Text background image",d)||"Text Bg ImagCustmze the Text background image",m=(0,t.__)("Text bg image",d)||"Text Bg Image",x=(0,t.__)("Apply",d)||"Apply",p=({onClose:e,onChange:a,setImageUrl:i,popoverAnchor:n,fontSize:s,setFontSize:c})=>{const m=(0,t.__)("Open Media Library",d)||"Open Media Library",p=[{name:(0,t.__)("Small"),slug:"small",size:12},{name:(0,t.__)("Big"),slug:"big",size:26}];return(0,r.jsx)(l.Popover,{anchor:n,className:"dro-magic-text-bg-popover",children:(0,r.jsxs)("div",{style:{minWidth:"320px",padding:"16px"},children:[(0,r.jsx)("h4",{style:{marginBottom:"12px"},children:g}),(0,r.jsx)(o.MediaUploadCheck,{children:(0,r.jsx)(o.MediaUpload,{allowedTypes:["image"],onSelect:e=>i(e.url),render:({open:e})=>(0,r.jsx)(l.Button,{variant:"primary",onClick:e,style:{marginBottom:"12px",width:"100%"},children:m})})}),(0,r.jsx)(l.FontSizePicker,{__next40pxDefaultSize:!0,fallbackFontSize:16,fontSizes:p,value:s,onChange:e=>c(e)}),(0,r.jsx)(l.Button,{variant:"primary",onClick:()=>{a(),e()},style:{width:"100%"},children:x})]})})};(0,n.registerFormatType)("dro-magic-text/text-bg-image",{title:(0,t.__)("Text bg","dro-magic-text"),tagName:"span",className:"dro-magic-text-bg-image",attributes:{style:"style"},edit:({value:e,onChange:t,isActive:a})=>{const[l,s]=(0,i.useState)(!1),[c,d]=(0,i.useState)(),[g,x]=(0,i.useState)(""),[h,u]=(0,i.useState)("20"),_=(0,i.useCallback)((()=>{t((0,n.toggleFormat)(e,{type:"dro-magic-text/text-bg-image",attributes:{style:`--text-bg-image: url('${g}'); --text-size: ${h}`,class:"dro-magic-text-bg-image"}}))}),[t,e,g,h]),T=(0,i.useCallback)((()=>{a?t((0,n.toggleFormat)(e,{type:"dro-magic-text/text-bg-image"})):s(!0)}),[a,t,e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:d,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:"format-image",title:m,onClick:T,isActive:a})}),!a&&l&&(0,r.jsx)(p,{onClose:()=>s(!1),onChange:_,setImageUrl:x,popoverAnchor:c,fontSize:h,setFontSize:u})]})}});const h=({onClose:e,onChange:t,gradient:o,setGradient:a,strokeWidth:i,setStrokeWidth:n,popoverAnchor:s,LABEL_POPOVER_TITLE:c,LABEL_GRADIENT_STROKE:d,LABEL_GRADIENT_WIDTH:g,LABEL_APPLY_BUTTON:m})=>(0,r.jsxs)(l.Popover,{anchor:s,className:"gradient-stroke-popover",children:[(0,r.jsx)("h4",{children:c}),(0,r.jsx)(l.GradientPicker,{value:o,onChange:a,label:d}),(0,r.jsx)(l.RangeControl,{label:g,value:i,onChange:n,min:.1,max:5,step:.1,initialPosition:1}),(0,r.jsx)(l.Button,{variant:"primary",onClick:t,children:m})]});(0,n.registerFormatType)("dro-magic-text/gradient-stroke",{title:(0,t.__)("Gradient Stroke","dro-magic-text"),tagName:"span",className:"dro-magic-text-gradient-stroke",attributes:{style:"style",class:"class"},edit:({isActive:e,value:a,onChange:l,textDomain:s="dro-magic-text"})=>{const[c,d]=(0,i.useState)(!1),[g,m]=(0,i.useState)(),[x,p]=(0,i.useState)("linear-gradient(to right, #09f1b8, #00a2ff, #ff00d2, #fed90f)"),[u,_]=(0,i.useState)(1),T=(0,t.__)("Gradient Stroke Settings",s)||"Gradient Stroke Settings",C=(0,t.__)("Stroke Gradient",s)||"Stroke Gradient",v=(0,t.__)("Stroke Width",s)||"Stroke Width",b=(0,t.__)("Apply",s)||"Apply",k=(0,i.useCallback)((()=>{l((0,n.toggleFormat)(a,{type:"dro-magic-text/gradient-stroke",attributes:{style:`\n            --gradient-stroke: ${x};\n            --stroke-width: ${u}px;\n          `,class:"magic-gradient-stroke"}}))}),[x,u,l,a]),f=(0,i.useCallback)((()=>{e?l((0,n.toggleFormat)(a,{type:"dro-magic-text/gradient-stroke"})):d(!0)}),[e,a,l]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:m,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:"admin-appearance",title:(0,t.__)("Gradient Stroke",s)||"Gradient Stroke",onClick:f,isActive:e})}),c&&(0,r.jsx)(h,{onClose:()=>d(!1),onChange:()=>{k(),d(!1)},gradient:x,setGradient:p,strokeWidth:u,setStrokeWidth:_,popoverAnchor:g,LABEL_POPOVER_TITLE:T,LABEL_GRADIENT_STROKE:C,LABEL_GRADIENT_WIDTH:v,LABEL_APPLY_BUTTON:b})]})}});const u=[{name:"Default",value:"default"},{name:"Dark",value:"dark"},{name:"Light",value:"light"},{name:"Milkshake",value:"milkshake"},{name:"Popsicle",value:"popsicle"}],_=window.wp.data,T=window.wp.editor,C=window.wp.plugins,v="dro-magic-text",b=(0,t.__)("Display Mode",v);(0,C.registerPlugin)("dro-magic-text-post-theme-selector",{render:()=>{const{savedTheme:e}=(0,_.useSelect)((e=>({savedTheme:e("core/editor").getEditedPostAttribute("meta")?.dro_magic_text_theme_meta}))),[o,a]=(0,i.useState)((()=>void 0!==e&&"default"!==e)),{editPost:n}=(0,_.useDispatch)("core/editor");return(0,i.useEffect)((()=>{const t=()=>{const t=document.querySelector(".block-editor-iframe__scale-container"),r=t?.querySelector("iframe"),a=r?.contentDocument?.body,i=[a,document.querySelector(".editor-styles-wrapper")].filter(Boolean);i.forEach((e=>{console.debug("1",e),e.classList.remove(...u.map((e=>`magic-theme-${e.value}`))),e.classList.remove(...u.map((e=>`theme-${e.value}`)))})),o&&e&&"default"!==e&&i.forEach((t=>{console.debug("2",t),t.classList.add(`magic-theme-${e}`),t.classList.add(`theme-${e}`)}))};setTimeout((()=>t()),100);const r=new MutationObserver((e=>{e.forEach((()=>{const e=document.querySelector(".block-editor-iframe__scale-container");if(e){const o=e.querySelector("iframe");o&&o.contentDocument&&t()}}))})),a=document.querySelector(".block-editor-iframe__scale-container")?.parentNode;return a&&r.observe(a,{childList:!0,subtree:!0}),()=>{r.disconnect()}}),[e,o]),(0,r.jsx)(T.PluginDocumentSettingPanel,{name:"magic-text-display-mode",title:b,className:"dro-magic-text-post-theme-selector-panel",initialOpen:!0,children:(0,r.jsxs)("div",{className:"dro-magic-text-post-theme-selector-panel__content",children:[(0,r.jsx)(l.ToggleControl,{label:(0,t.__)("Enable Theme Selector",v),checked:o,onChange:t=>{a(t),n({meta:{dro_magic_text_theme_meta:t?e||u[0].value:"default"}})}}),(o||e)&&(0,r.jsxs)("div",{className:"theme-selector-wrapper",children:[(0,r.jsx)("label",{htmlFor:"magic-text-display-mode",children:(0,t.__)("Display Mode",v)}),(0,r.jsx)("select",{id:"magic-text-display-mode",value:e||"default",onChange:e=>{n({meta:{dro_magic_text_theme_meta:e.target.value}})},children:u.map((e=>(0,r.jsx)("option",{value:e.value,children:(0,t.__)(e.name,v)},e.value)))})]})]})})},icon:"star-half"});const k=window.wp.primitives,f=(0,r.jsx)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)(k.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12.9c0 .6.5 1.1 1.1 1.1.3 0 .5-.1.8-.3L8.5 17H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H7.9l-2.4 2.4V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v9z"})}),j=[{label:"Top",value:"top"},{label:"Right",value:"right"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"}],L=({LABEL_POPOVER_TITLE:e,LABEL_TOOLTIP_TEXT:o,LABEL_APPLY_BUTTON:a,LABEL_TOOLTIP_POSITION:i,onChange:n,setTooltipText:s,tooltipText:c,popoverAnchor:d,tooltipBgColor:g,setTolltipBgColor:m,tooltipTextColor:x,setTooltipTextColor:p,tooltipPosition:h,setTooltipPosition:u,useGradient:_,setUseGradient:T,gradientStartColor:C,setGradientStartColor:v,gradientEndColor:b,setGradientEndColor:k,gradientDirection:f,setGradientDirection:L,onClose:y})=>{const S=[{label:(0,t.__)("To Right","dro-magic-text"),value:"to right"},{label:(0,t.__)("To Left","dro-magic-text"),value:"to left"},{label:(0,t.__)("To Bottom","dro-magic-text"),value:"to bottom"},{label:(0,t.__)("To Top","dro-magic-text"),value:"to top"},{label:(0,t.__)("Diagonal ↘","dro-magic-text"),value:"to bottom right"},{label:(0,t.__)("Diagonal ↙","dro-magic-text"),value:"to bottom left"}];return(0,r.jsx)(l.Popover,{anchor:d,className:"tooltip-effect-popover",onClose:y,children:(0,r.jsxs)("div",{style:{padding:"16px",width:"320px"},children:[(0,r.jsx)("h4",{style:{marginTop:0,marginBottom:"16px"},children:e}),(0,r.jsx)(l.TextControl,{label:o,value:c,placeholder:(0,t.__)("Enter tooltip text","dro-magic-text"),onChange:e=>s(e),style:{marginBottom:"16px"}}),(0,r.jsx)(l.RadioControl,{label:i,help:(0,t.__)("Select the position of the tooltip","dro-magic-text"),selected:h,options:j,onChange:e=>u(e),style:{marginBottom:"16px"}}),(0,r.jsx)(l.ToggleControl,{label:(0,t.__)("Use Gradient Background","dro-magic-text"),help:_?(0,t.__)("Gradient background enabled","dro-magic-text"):(0,t.__)("Solid color background","dro-magic-text"),checked:_,onChange:e=>T(e),style:{marginBottom:"16px"}}),(0,r.jsx)(l.TabPanel,{className:"tooltip-color-tabs",activeClass:"active-tab",tabs:[{name:"background",title:(0,t.__)("Background","dro-magic-text"),className:"background-tab"},{name:"text",title:(0,t.__)("Text Color","dro-magic-text"),className:"text-tab"}],children:e=>(0,r.jsxs)("div",{style:{marginTop:"12px"},children:["background"===e.name&&(0,r.jsx)(l.__experimentalVStack,{spacing:3,children:_?(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:(0,t.__)("Gradient Background","dro-magic-text")}),(0,r.jsx)(l.RadioControl,{label:(0,t.__)("Gradient Direction","dro-magic-text"),selected:f,options:S,onChange:e=>L(e),style:{marginBottom:"12px"}}),(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,r.jsx)("strong",{children:(0,t.__)("Start Color","dro-magic-text")}),(0,r.jsx)(l.ColorPicker,{color:C,onChange:e=>v(e)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:(0,t.__)("End Color","dro-magic-text")}),(0,r.jsx)(l.ColorPicker,{color:b,onChange:e=>k(e)})]}),(0,r.jsxs)("div",{style:{marginTop:"12px"},children:[(0,r.jsx)("strong",{children:(0,t.__)("Preview","dro-magic-text")}),(0,r.jsx)("div",{style:{height:"30px",background:`linear-gradient(${f}, ${C}, ${b})`,border:"1px solid #ccc",borderRadius:"4px",marginTop:"4px"}})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:(0,t.__)("Background Color","dro-magic-text")}),(0,r.jsx)(l.ColorPicker,{color:g,onChange:e=>m(e)})]})}),"text"===e.name&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:(0,t.__)("Text Color","dro-magic-text")}),(0,r.jsx)(l.ColorPicker,{color:x,onChange:e=>p(e)})]})]})}),(0,r.jsxs)(l.__experimentalHStack,{justify:"space-between",style:{marginTop:"20px"},children:[(0,r.jsx)(l.Button,{variant:"secondary",onClick:y,children:(0,t.__)("Cancel","dro-magic-text")}),(0,r.jsx)(l.Button,{variant:"primary",onClick:n,children:a})]})]})})};(0,n.registerFormatType)("dro-magic-text/tooltip",{title:(0,t.__)("Tooltip","dro-magic-text"),tagName:"span",className:"dro-magic-text-tooltip",attributes:{"data-tooltip":"data-tooltip",class:"class",style:"style"},edit:({isActive:e,value:a,onChange:l,textDomain:s="dro-magic-text"})=>{const[c,d]=(0,i.useState)(!1),[g,m]=(0,i.useState)("Default Tooltip Text"),[x,p]=(0,i.useState)(),[h,u]=(0,i.useState)("#000000"),[_,T]=(0,i.useState)("#ffffff"),[C,v]=(0,i.useState)("top"),[b,k]=(0,i.useState)(!1),[j,y]=(0,i.useState)("#4f46e5"),[S,E]=(0,i.useState)("#7c3aed"),[B,A]=(0,i.useState)("to right"),P=(0,t.__)("Tooltip Settings",s)||"Tooltip Settings",w=(0,t.__)("Tooltip Text",s)||"Tooltip Text",O=(0,t.__)("Tooltip Position",s)||"Tooltip Position",G=(0,t.__)("Apply",s)||"Apply",N=(0,i.useCallback)((()=>{let e;e=b?`linear-gradient(${B}, ${j}, ${S})`:h,l((0,n.toggleFormat)(a,{type:"dro-magic-text/tooltip",attributes:{"data-tooltip":g,class:`tooltip-${C}`,style:`--tooltip-bg: ${e}; --tooltip-text-color: ${_}; --tooltip-use-gradient: ${b};`}}))}),[a,l,g,h,_,C,b,j,S,B]),D=(0,i.useCallback)((()=>{d(!0)}),[e,a,l]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:p,children:(0,r.jsx)(o.RichTextToolbarButton,{icon:f,title:(0,t.__)("Add Tooltip","dro-magic-text"),onClick:D,isActive:e})}),c&&(0,r.jsx)(L,{onClose:()=>d(!1),onChange:()=>{N(),d(!1)},setTooltipText:m,tooltipText:g,popoverAnchor:x,tooltipBgColor:h,setTolltipBgColor:u,tooltipTextColor:_,setTooltipTextColor:T,tooltipPosition:C,setTooltipPosition:v,useGradient:b,setUseGradient:k,gradientStartColor:j,setGradientStartColor:y,gradientEndColor:S,setGradientEndColor:E,gradientDirection:B,setGradientDirection:A,LABEL_POPOVER_TITLE:P,LABEL_TOOLTIP_TEXT:w,LABEL_APPLY_BUTTON:G,LABEL_TOOLTIP_POSITION:O})]})}}),(0,e.registerBlockType)(a.UU,{edit:function(){return(0,r.jsx)("p",{...(0,o.useBlockProps)(),children:(0,t.__)("Magic Text Block – hello from the editor!","dro-magic-text")})},save:function(){return(0,r.jsx)("p",{...o.useBlockProps.save(),children:"Magic Text Block – hello from the saved content!"})}})}},o={};function r(e){var a=o[e];if(void 0!==a)return a.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,o,a,i)=>{if(!o){var n=1/0;for(d=0;d<e.length;d++){for(var[o,a,i]=e[d],l=!0,s=0;s<o.length;s++)(!1&i||n>=i)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(l=!1,i<n&&(n=i));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,a,i]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={973:0,881:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[n,l,s]=o,c=0;if(n.some((t=>0!==e[t]))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(s)var d=s(r)}for(t&&t(o);c<n.length;c++)i=n[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},o=globalThis.webpackChunkmagic_text_block=globalThis.webpackChunkmagic_text_block||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=r.O(void 0,[881],(()=>r(511)));a=r.O(a)})();